let data = [
  {
    id: 1,
    title: "UGG®",
    disc: "Coquette Shearling Lined Slipper (Women)",
    category: "shoes",
    gender: "female",
    price: 10540.95,
    review: "(3959)",
    img: "https://n.nordstrommedia.com/id/sr3/61e25487-c956-4f06-8ae8-3e3c9cb4532b.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 2,
    title: "Nordstrom",
    disc: "Moonlight Eco Pajamas",
    category: "cloths",
    gender: "female",
    price: 3953.63,
    review: "(71)",
    img: "https://n.nordstrommedia.com/id/sr3/bb08eea1-f884-487a-b077-16838db72eee.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 3,
    title: "Converse",
    disc: "Chuck Taylor® All Star® Lift High Top Platform Sneaker (Women)",
    category: "shoes",
    gender: "women",
    price: 6147.94,
    review: "(949)",
    img: "https://n.nordstrommedia.com/id/sr3/d3d9a69a-42cd-4a17-b925-57fc0398548e.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 4,
    title: "Dyson",
    disc: "Special Edition Supersonic™ Hair Dryer (Limited Edition)",
    category: "others",
    gender: "women",
    price: 37786.62,
    review: "(44)",
    img: "https://n.nordstrommedia.com/id/sr3/e67459fb-5776-4597-b1f7-af7106c0441d.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 5,
    title: "UGG®",
    disc: "Scuffette II Slipper (Women)",
    category: "sliper",
    gender: "women",
    price: 8348.4,
    review: "(2728)",
    img: "https://n.nordstrommedia.com/id/sr3/75da7256-388b-4d3f-ac0e-010218f48e1d.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 6,
    title: "UGG®",
    disc: "Ansley Water Resistant Slipper (Women)",
    category: "sliper",
    gender: "women",
    price: 8787.79,
    review: "(3928)",
    img: "https://n.nordstrommedia.com/id/sr3/af2691a8-eab7-456b-abc2-55ad158ad6f8.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 7,
    title: "UGG®",
    disc: "Cozy Knit Genuine Shearling Slipper (Women)",
    category: "sliper",
    gender: "women",
    price: 10545.35,
    review: "(322)",
    img: "https://n.nordstrommedia.com/id/sr3/aa9df747-470c-4bbe-9d40-73e5d4e12408.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 8,
    title: "Jo Malone London™",
    disc: "Wood Sage & Sea Salt Cologne",
    category: "other",
    gender: "",
    price: 7030.23,
    review: "(1648)",
    img: "https://n.nordstrommedia.com/id/sr3/ada60d30-e5b2-4a25-92c5-d4c7fe67dc50.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 9,
    title: "DIOR",
    disc: "Addict Lip Glow Balm",
    category: "other",
    gender: "women",
    price: 3339.36,
    review: "(3066)",
    img: "https://n.nordstrommedia.com/id/sr3/58e65ceb-a016-47a3-97ed-6e5752a1eafe.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 10,
    title: "UGG®",
    disc: "Classic II Genuine Shearling Lined Short Boot (Women)",
    category: "shoes",
    gender: "women",
    price: 14939.24,
    review: "(2922)",
    img: "https://n.nordstrommedia.com/id/sr3/9fccd6b9-e97e-4fd9-a83b-09ad09cd4baf.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 11,
    title: "NODPOD",
    disc: "Nod Pod Sleep Mask",
    category: "other",
    gender: "women",
    price: 2987.85,
    review: "(24)",
    img: "https://n.nordstrommedia.com/id/sr3/43aede3d-e203-4203-8de6-fd7b3be65836.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 12,
    title: "Nike",
    disc: "Air Force 1 '07 Sneaker (Men)",
    category: "shoes",
    gender: "male",
    price: 9666.57,
    review: "(1083)",
    img: "https://n.nordstrommedia.com/id/sr3/e1f5bfee-ee4f-439a-a7ff-5270d7825de0.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 13,
    title: "UGG®",
    disc: "Ascot Slipper (Men)",
    category: "slipper",
    gender: "men",
    price: 9662.18,
    review: "(3581)",
    img: "https://n.nordstrommedia.com/id/sr3/dea98c12-40e0-4e97-9017-979ff0fe2859.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 14,
    title: "UGG®",
    disc: "Hyde Slide Slipper (Men)",
    category: "slipper",
    gender: "male",
    price: 8787.79,
    review: "(8)",
    img: "https://n.nordstrommedia.com/id/sr3/8222eb9e-2d38-46ff-b6c7-1b8fa53b1eb5.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 15,
    title: "UGG®",
    disc: "Fluff Yeah Faux Fur Slingback Sandal (Women)",
    category: "sandal",
    gender: "women",
    price: 4393.89,
    review: "(1705)",
    img: "https://n.nordstrommedia.com/id/sr3/f07dbade-1621-4bd0-8b56-5a344aa67b86.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 16,
    title: "SKIMS",
    disc: "Soft Lounge Long Sleeve Dress (Regular & Plus Size)",
    category: "cloths",
    gender: "women",
    price: 7733.26,
    review: "(592)",
    img: "https://n.nordstrommedia.com/id/sr3/090b01a3-be3b-4d57-8053-0171f2dc8618.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 17,
    title: "Charlotte Tilbury",
    disc: "Pillow Talk Lip Secrets Set USD $79 Value",
    category: "other",
    gender: "women",
    price: 4306.02,
    review: "(4)",
    img: "https://n.nordstrommedia.com/id/sr3/2e662d23-0074-45b4-8cca-349824bf27e2.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 18,
    title: "UGG®",
    disc: "Classic Short II Water Resistant Genuine Shearling Boot (Walker, Toddler, Little Kid & Big Kid)",
    category: "shoes",
    gender: "kids",
    price: 9139.3,
    review: "(1167)",
    img: "https://n.nordstrommedia.com/id/sr3/d409436c-cfcb-48ee-bc6d-afe8c82e2c89.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 19,
    title: "DIOR",
    disc: "Rouge Dior Lip Coffret Gift Set",
    category: "other",
    gender: "female",
    price: 16696.8,
    review: "(1)",
    img: "https://n.nordstrommedia.com/id/sr3/0e0e30ec-6f93-4b33-9015-8c4ce97a5abb.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 20,
    title: "SKIMS",
    disc: "Boyfriend Long Sleeve T-Shirt (Regular & Plus Size)",
    category: "other",
    gender: "men",
    price: 6590.84,
    review: "(38)",
    img: "https://n.nordstrommedia.com/id/sr3/5df81756-816e-4ca2-9c4f-fbe4fb5a715c.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
  {
    id: 21,
    title: "UGG®",
    disc: "Lenny Robe",
    category: "cloths",
    gender: "female",
    price: 7803.56,
    review: "(5)",
    img: "https://n.nordstrommedia.com/id/sr3/cd8fe824-8120-49a6-b8f4-1e1f1d2a6078.jpeg?h=365&w=240&dpr=2",
    arrive: "Arrives before Christmas",
  },
];

let cards = document.getElementById("cards");
let cart = JSON.parse(localStorage.getItem("cart"));
if (cart == null) cart = [];
let countCart = document.getElementById("cart-count");
countCart.innerText = cart.length;
display(data);

function display(data) {
  cards.innerHTML = null;
  data.forEach((element, index) => {
    let div = document.createElement("div");
    div.setAttribute("class", "card-item");

    let imgC = document.createElement("div");
    imgC.setAttribute("class", "img-container");
    let img = document.createElement("img");
    img.setAttribute("src", element.img);
    let quick_show = document.createElement("div");
    quick_show.setAttribute("class", "quick-show");
    quick_show.innerText = "Quick Show";
    imgC.append(img, quick_show);

    let item_body = document.createElement("div");
    item_body.setAttribute("class", "item-body");
    let card_arrive = document.createElement("div");
    card_arrive.setAttribute("class", "card-arrive");
    card_arrive.innerText = element.arrive;

    let card_title = document.createElement("div");
    card_title.setAttribute("class", "card-title");
    card_title.innerText = element.title;

    let card_disc = document.createElement("h4");
    card_disc.setAttribute("class", "card-disc");
    card_disc.innerText = element.disc;

    let card_price = document.createElement("div");
    card_price.setAttribute("class", "card-price");
    card_price.innerText = element.price;

    let card_review = document.createElement("div");
    card_review.setAttribute("class", "card-review");
    let span1 = document.createElement("span");
    span1.innerText = "Review:";
    let span2 = document.createElement("span");
    span2.setAttribute("class", "review-counter");
    span2.innerText = element.review;
    card_review.append(span1, span2);
    let add_to_cart = document.createElement("div");
    add_to_cart.setAttribute("class", "add-to-cart");
    add_to_cart.innerText = "Add to cart";
    add_to_cart.addEventListener("click", () => {
      let cart = JSON.parse(localStorage.getItem("cart"));
      if (cart == null) cart = [];
      let isAdded = false;
      cart.forEach((ele, ind) => {
        if (ele.id == element.id) {
          alert("Product Already Added!");
          isAdded = true;
        }
      });
      if (isAdded == false) {
        cart.push({ ...element, quantity: 1 });
        countCart.innerText = cart.length;
        localStorage.setItem("cart", JSON.stringify(cart));
        alert("Product Added!➕");
      }
    });
    item_body.append(
      card_arrive,
      card_title,
      card_disc,
      card_price,
      card_review,
      add_to_cart
    );
    div.append(imgC, item_body);
    cards.append(div);
  });
}
let search = document.getElementById("header-search");
search.addEventListener("keypress", (e) => {
  if (e.key == "Enter") {
    let value = search.value.toLowerCase();
    let searchData = data.filter((element, index) => {
      if (value == "" || value == element.category) return true;
      else false;
    });
    display(searchData);
  }
});
